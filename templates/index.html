<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Goldman&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"
        integrity="sha512-odNmoc1XJy5x1TMVMdC7EMs3IVdItLPlCeL5vSUPN2llYKMJ2eByTTAIiiuqLg+GdNr9hF6z81p27DArRFKT7A=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://use.fontawesome.com/b8af91ce87.js"></script>
    <script src="https://kit.fontawesome.com/d1d35104b4.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="./static/styles/homeStyle.css">
    <link rel="icon" href="https://iteration2code.s3.us-east-2.amazonaws.com/Wand_Icon.png">
    <title>Sentizard</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
    <link rel="stylesheet" href="./static/styles/comparisons.css">
</head>

<body id="homepage" class="homepage" style="z-index: -1; overflow-x: hidden; overflow-y: scroll;"
    onload="setButton('User')">
    <div class="response-form" id="response-form">
        <center style="position: relative; right:50px">
            <h2>Twitter Data Pulling</h2>
            <form class="grid" action="/result" method="POST">
                <label for="sentence"> Enter a Phrase: </label>
                <input class="input-phrase" type="text" id="sentence" name="sentence">
                <label style="margin-left:10px">Algorithm: </label>
                <select class="dropdown-input" id="algorithm" name="algorithm">
                    <option value="C-LSTM">C-LSTM</option>
                    <option value="SVM">SVM</option>
                    <option value="BiLSTM">BiLSTM</option>
                    <option value="CLSTM">CLSTM</option>
                </select>
                <input style="margin-left:10px" class="file_submit" type="Submit"> <br />
                <label>Start Date: </label>
                <input class="input-date" type=date min=2019-09-08 name="date1">
                <label style="margin-left:10px">End Date: </label>
                <input class="input-date" type=date min=2019-09-08 name="date2">
                <select style="margin-left:10px" class="dropdown-input" id="city" name="city">
                    <option value="All Cities">All Cities</option>
                    <option value="Boston">Boston</option>
                    <option value="New York">New York</option>
                    <option value="Los Angeles">Los Angeles</option>
                    <option value="Chicago">Chicago</option>
                </select>
                {% if sentence %}
                <div class="result-box">
                    <h3 class="let_space">Your predicted setiment result with {{algorithm}} is:
                        {{sentence}}</h3>
                </div>
                <p style="margin-top: 60px">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                    tempor incididunt ut labore
                    et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
                    aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
                    culpa qui officia deserunt mollit anim id est laborum.</p>
                {% endif %}
            </form>
        </center>
    </div>
    <div class="comparisons-container" id="comparisons-container" style="position:relative; top:0">
        <div class="ComparisonsWindow" id="Comparisions.html" scrolling="no"
            style="height: 90vh; width: 91.666%; position: fixed; left: 8.333%;  top: 81px; border: 1px solid black; z-index: 30; visibility: hidden;">
            <label form="ShowChart ">Choose a Chart:</label>

            <select name="Chart " id="select_chart " onchange="favChart()">
                <option value="selection ">please select the type of chart...</option>
                <option value="pie ">Pie chart</option>
                <option value="line ">Linechart</option>
                <option value="bar ">barchart</option>
                <center>
                    <h1>BarChart demo</h1>
                    <p> Your selected chart is :
                        <input type="text" id="favourite " size="20">
                    </p>
                    <div class="scroll ">
                        <h2>
                            <div>
                                <canvas id="myChart"></canvas>
                            </div>
                        </h2>
                    </div>
                </center>
        </div>
    </div>
    <div class="view-summary" id="view-summary"
        style="height: 90vh; width: 91.666%; position: fixed; left: 8.333%; top: 73px; border: 1px solid black; z-index: 30; visibility: hidden;">
        <h1>
            View Detailed Summary!
        </h1>
    </div>
    <div class="enlargedFrame" id="enlargedFrame">
        <nav class="navbar navbar-expand-lg navbar-light bg-light" id="navbar">
            <ul class="nav navbar-nav abs-left-x">
                <i class="nav-item">
                    <img class="wand-icon" src="https://iteration2code.s3.us-east-2.amazonaws.com/Wand_Icon.png"
                        alt="Wand"></img>
                    Sentizard
                </i>
            </ul>
        </nav>
        <div class="row no-gutters">
            <div class="col-1">
                <nav id="sidebar">
                    <ul class="list-unstyled components">
                        <h4>
                            <li>
                                <a href="#" id="User" onclick="setButton(id)">
                                    &nbsp
                                    <i class="fa-solid fa-magnifying-glass-chart"></i>
                                    User
                                </a>
                                <a href="#" id="Comparisons" onclick="setButton(id)">
                                    &nbsp
                                    <i class="fas fa-chart-line"></i>
                                    Comparisons
                                </a>
                            </li>
                        </h4>
                    </ul>
                </nav>
            </div>
            <div class="col-11">
                <div class="wrapper" id="borderwrap" style="z-index:40"></div>
                <div class="user-container">
                    <form>
                        <div class="row">
                            <div class="col">
                                <div class="displaywindow" id="displaywindow" style="z-index:-1"></div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="row no-gutters">
        <div class="col-1"></div>
        <div class="col-11">
        </div>
    </div>
    <ul>
        <a id=0 href="#" target="_blank" style="display:none;">Alexa Usage</a>
        <a id=1 href="#" target="_blank" style="display:none;">Active Devices</a>
        <a id=2 href="#" target="_blank" style="display:none;">Methods per Day</a>
        <a id=3 href="#" target="_blank" style="display:none;">DSN by Month</a>
        <a id=4 href="#" target="_blank" style="display:none;">Interactions per Day</a>
        <a id=5 href="#" target="_blank" style="display:none;">New Devices by Month</a>
        <a id=6 href="#" target="_blank" style="display:none;">Total ACK Usage</a>
        <a id=7 href="#" target="_blank" style="display:none;">Usage Methods</a>
        <a id=8 href="#" target="_blank" style="display:none;">Methods per Month</a>
        <a id=9 href="#" target="_blank" style="display:none;">Average Interactions by Month</a>
        <a id=10 href="./Comparisons.html" target="_blank" style="display:none;">Comparison</a></li>
    </ul>
    <div class="getdocdiv" id="getdocdiv"></div>
    </div>
</body>

<script>

    // Each sidebar button
    var sidebarButtons = ["User", "Comparisons"];

    // Links to each graph
    var links = ["AlexaUsage.html",
        "DailyActiveDevices.html",
        "DayOfWeek.html",
        "DSNbyMonth.html",
        "InteractionDay.html",
        "NewDSNMonth.html",
        "TotalACKUsage.html",
        "UsageMethods.html",
        "MonthMethods.html",
        "AvgInteractionsMonthly.html"];

    // Sets buttons to correct state
    function setButton(button) {
        // Sets all buttons to off
        for (let x = 0; x < sidebarButtons.length; x++) {
            document.getElementById(sidebarButtons[x]).className = document.getElementById(sidebarButtons[x]).className.replace(" active", "");
        }
        // Sets correct button to on
        var buttonToActivate = document.getElementById(button);
        document.getElementById("displaywindow").innerHTML = "";
        if (button === "Comparisons") {
            document.getElementById('response-form').style.visibility = "hidden";
            document.getElementById('Comparisions.html').style.visibility = "visible";
        } else if (button === "User") {
            document.getElementById('response-form').style.visibility = "visible";
            document.getElementById('Comparisions.html').style.visibility = "hidden";
        }
    }

    function favChart() {
        var select_chart = document.getElementById("select_chart ");
        if (select_chart.selectedIndex == 1) {
            document.getElementById("favourite ").value = select_chart.options[select_chart.selectedIndex].text;
            var ctx1 = document.getElementById('myChart').getContext('2d');;
            var myChart = new Chart(ctx1, {
                type: 'pie',
                data: {
                    labels: ["Positive ", "Negative ", "Neutral "],
                    datasets: [{
                        data: [70, 10, 6],
                        borderColor: [
                            "#3cba9f ",
                            "#ffa500 ",
                            "#c45850 ",
                        ],
                        backgroundColor: [
                            "rgb(60,186,159,0.1) ",
                            "rgb(255,165,0,0.1) ",
                            "rgb(190,88,80,0.1) ",
                        ],
                        borderWidth: 1,
                    }]
                },
                options: {
                    scales: {
                        xAxes: [{
                            display: false,
                        }],
                        yAxes: [{
                            display: false,
                        }],
                    }
                },
            });
        }

        if (select_chart.selectedIndex == 2) {
            document.getElementById("favourite ").value = select_chart.options[select_chart.selectedIndex].text;
            var ctx2 = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: ["Sunday ", "Monday ", "Tuesday ", "Wednesday ", "Thursday ", "Friday ", "Saturday "],
                    datasets: [{
                        data: [86, 114, 106, 106, 107, 111, 133],
                        label: "Total ",
                        borderColor: "rgb(62,149,205) ",
                        backgroundColor: "rgb(62,149,205,0.1) ",
                    }, {
                        data: [70, 90, 44, 60, 83, 90, 100],
                        label: "Accepted ",
                        borderColor: "rgb(60,186,159) ",
                        backgroundColor: "rgb(60,186,159,0.1) ",
                    }, {
                        data: [10, 21, 60, 44, 17, 21, 17],
                        label: "Pending ",
                        borderColor: "rgb(255,165,0) ",
                        backgroundColor: "rgb(255,165,0,0.1) ",
                    }, {
                        data: [6, 3, 2, 2, 7, 0, 16],
                        label: "Rejected ",
                        borderColor: "rgb(196,88,80) ",
                        backgroundColor: "rgb(196,88,80,0.1) ",
                    }]
                },
            });
        }

        if (select_chart.selectedIndex == 3) {
            document.getElementById("favourite ").value = select_chart.options[select_chart.selectedIndex].text;
            var ctx = document.getElementById("myChart");
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ["2015-01", "2015-02", "2015-03", "2015-04", "2015-05", "2015-06", "2015-07", "2015-08", "2015-09", "2015-10", "2015-11", "2015-12"],
                    datasets: [{
                        label: '# of Tomatoes',
                        data: [12, 19, 3, 5, 2, 3, 20, 3, 5, 6, 2, 1],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)',
                            'rgba(255, 159, 64, 0.2)',
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)',
                            'rgba(255, 159, 64, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255,99,132,1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)',
                            'rgba(255,99,132,1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: false,
                    scales: {
                        xAxes: [{
                            ticks: {
                                maxRotation: 90,
                                minRotation: 80
                            },
                            gridLines: {
                                offsetGridLines: true // à rajouter
                            }
                        }, {
                            position: "top",
                            ticks: {
                                maxRotation: 90,
                                minRotation: 80
                            },
                            gridLines: {
                                offsetGridLines: true // et matcher pareil ici
                            }
                        }],
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });
        }
    }

</script>